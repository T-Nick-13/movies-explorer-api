(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),i=a(20),r=a.n(i),o=(a(31),a(24)),l=a(2),j=a(4);var h=function(){return Object(s.jsx)("nav",{className:"navTab",children:Object(s.jsxs)("ul",{className:"navTab__ul",children:[Object(s.jsx)("a",{className:"navTab__link link",href:"#aboutProject",children:Object(s.jsx)("li",{className:"navTab__list",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(s.jsx)("a",{className:"navTab__link link",href:"#techs",children:Object(s.jsx)("li",{className:"navTab__list",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(s.jsx)("a",{className:"navTab__link link",href:"#aboutme",children:Object(s.jsx)("li",{className:"navTab__list",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})};var d=function(){return Object(s.jsxs)("section",{className:"promo",children:[Object(s.jsx)("h1",{className:"promo__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(s.jsx)(h,{})]})};var _=function(){return Object(s.jsxs)("section",{className:"aboutProject",children:[Object(s.jsx)("a",{name:"aboutProject"}),Object(s.jsx)("h2",{className:"aboutProject__heading",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(s.jsxs)("div",{className:"aboutProject__section",children:[Object(s.jsx)("h3",{className:"aboutProject__caption",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(s.jsx)("h3",{className:"aboutProject__caption",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(s.jsx)("p",{className:"aboutProject__description aboutProject__description_possiton_2",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(s.jsx)("p",{className:"aboutProject__description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(s.jsxs)("div",{className:"aboutProject__duration",children:[Object(s.jsxs)("div",{className:"aboutProject__line",children:[Object(s.jsx)("div",{className:"aboutProject__line-general aboutProject__line_size_s aboutProject__line_color_gr",children:Object(s.jsx)("p",{className:"aboutProject__line-text aboutProject__line-text_color_bl",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(s.jsx)("div",{className:"aboutProject__line-general aboutProject__line_size_l aboutProject__line_color_bl",children:Object(s.jsx)("p",{className:"aboutProject__line-text",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})})]}),Object(s.jsxs)("div",{className:"aboutProject__line",children:[Object(s.jsx)("p",{className:"aboutProject__line-general aboutProject__line_size_s aboutProject__line-text_caption",children:"Back-end"}),Object(s.jsx)("p",{className:"aboutProject__line-general aboutProject__line_size_l aboutProject__line-text_caption",children:"Front-end"})]})]})]})};var b=function(){return Object(s.jsxs)("section",{className:"techs",children:[Object(s.jsx)("a",{name:"techs"}),Object(s.jsx)("h2",{className:"techs__headng aboutProject__heading",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(s.jsx)("h3",{className:"techs__caption promo__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(s.jsx)("p",{className:"techs__description",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(s.jsxs)("ul",{className:"techs__ul navTab__ul",children:[Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://html.spec.whatwg.org/",children:Object(s.jsx)("li",{className:"techs__link-text",children:"HTML"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://www.w3.org/Style/CSS/specs.ru.html",children:Object(s.jsx)("li",{className:"techs__link-text",children:"CSS"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://developer.mozilla.org/ru/docs/Web/JavaScript",children:Object(s.jsx)("li",{className:"techs__link-text",children:"JS"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://ru.reactjs.org/",children:Object(s.jsx)("li",{className:"techs__link-text",children:"React"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://git-scm.com/docs",children:Object(s.jsx)("li",{className:"techs__link-text",children:"Git"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://expressjs.com/ru/",children:Object(s.jsx)("li",{className:"techs__link-text",children:"Express.js"})}),Object(s.jsx)("a",{className:"techs__link navTab__link link",href:"https://www.mongodb.com/",children:Object(s.jsx)("li",{className:"techs__link-text",children:"mongoDB"})})]})]})},m=a.p+"static/media/testpic.ce425927.png";var u=function(){return Object(s.jsxs)("section",{className:"aboutMe",children:[Object(s.jsx)("a",{name:"aboutme"}),Object(s.jsx)("h2",{className:"aboutMe__headng aboutProject__heading",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(s.jsxs)("div",{className:"aboutMe__section",children:[Object(s.jsxs)("div",{className:"aboutMe__info",children:[Object(s.jsx)("h3",{className:"aboutMe__name",children:"\u041d\u0438\u043a\u0438\u0442\u0430"}),Object(s.jsx)("p",{className:"aboutMe__occupation",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 27 \u043b\u0435\u0442"}),Object(s.jsx)("p",{className:"aboutMe__disciption",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(s.jsxs)("ul",{className:"aboutMe__contacts",children:[Object(s.jsx)("a",{className:"aboutMe__link link",href:"https://www.facebook.com/",children:Object(s.jsx)("li",{className:"",children:"Facebook"})}),Object(s.jsx)("a",{className:"aboutMe__link link",href:"https://github.com/T-Nick-13",children:Object(s.jsx)("li",{className:"",children:"Github"})})]})]}),Object(s.jsx)("img",{className:"aboutMe__pic",src:m,alt:"\u0424\u043e\u0442\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})]})]})};var v=function(){return Object(s.jsxs)("section",{className:"portfolio",children:[Object(s.jsx)("h2",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(s.jsxs)("div",{className:"portfolio__links",children:[Object(s.jsxs)("div",{className:"portfolio__container",children:[Object(s.jsx)("a",{className:"portfolio__app-type link",href:"https://t-nick-13.github.io/mesto/",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(s.jsx)("a",{href:"https://t-nick-13.github.io/mesto/",children:Object(s.jsx)("div",{className:"portfolio__img-link link"})})]}),Object(s.jsxs)("div",{className:"portfolio__container",children:[Object(s.jsx)("a",{className:"portfolio__app-type link",href:"https://t-nick-13.github.io/russian-travel/",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(s.jsx)("a",{href:"https://t-nick-13.github.io/russian-travel/",children:Object(s.jsx)("div",{className:"portfolio__img-link link"})})]}),Object(s.jsxs)("div",{className:"portfolio__container",children:[Object(s.jsx)("a",{href:"https://ntitov.students.nomoredomains.monster/",className:"portfolio__app-type link",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(s.jsx)("a",{href:"https://ntitov.students.nomoredomains.monster/",children:Object(s.jsx)("div",{className:"portfolio__img-link link"})})]})]})]})};var O=function(){return Object(s.jsxs)("main",{className:"main",children:[Object(s.jsx)(d,{}),Object(s.jsx)(_,{}),Object(s.jsx)(b,{}),Object(s.jsx)(u,{}),Object(s.jsx)(v,{})]})};var x=function(){return Object(s.jsx)(j.b,{exact:!0,path:["/saved-movies","/movies","/"],children:Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("h3",{className:"footer__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(s.jsxs)("div",{className:"footer__container",children:[Object(s.jsx)("p",{className:"footer__copyright",children:"\xa92021"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{className:"footer__nav",children:[Object(s.jsx)("li",{className:"footer__list",children:Object(s.jsx)("a",{className:"footer__link link",href:"https://praktikum.yandex.ru/",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(s.jsx)("li",{className:"footer__list",children:Object(s.jsx)("a",{className:"footer__link link",href:"https://github.com/T-Nick-13",children:"Github"})}),Object(s.jsx)("li",{className:"footer__list",children:Object(s.jsx)("a",{className:"footer__link link",href:"https://www.facebook.com/",children:"Facebook"})})]})})]})]})})};var p=function(e){var t=c.a.useState([]),a=Object(l.a)(t,2),n=a[0],i=a[1];return Object(s.jsxs)("section",{className:"serachForm",children:[Object(s.jsxs)("form",{className:"serachForm__form",onSubmit:function(t){t.preventDefault(),e.setPreload(),e.searchMovie(n),e.showNoResult()},children:[Object(s.jsx)("input",{className:"serachForm__input",type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c\u044b",required:!0,onChange:function(e){i(e.target.value)},value:n}),Object(s.jsx)("button",{className:"serachForm__btn link",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(s.jsxs)("div",{className:"serachForm__filter",children:[Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{type:"checkbox",onChange:e.handleChangeSwitcher,checked:e.shortMovie}),Object(s.jsx)("span",{className:"slider round"})]}),Object(s.jsx)("p",{className:"serachForm__filter-name",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})},f="https://api.nomoreparties.co",N="https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80";var g=function(e){var t,a=e.movie,n=e.onCardLike,c=e.savedFilms,i=e.onCardLikeDelete,r=e.inSaved,o=c.find((function(e){return e.movieId===a.id})),l=o&&!r?"moviesCard__btn_saved link-btn":o&&r?"moviesCard__btn_saved link-btn moviesCard__btn_delete":"moviesCard__btn link-btn",j=o?"":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c";return Object(s.jsxs)("li",{className:"moviesCard",children:[Object(s.jsx)("img",{className:"moviesCard__img",alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ".concat(a.nameRU),src:null==a.image?N:"".concat(f).concat(a.image.url)}),Object(s.jsxs)("div",{className:"moviesCard__container",children:[Object(s.jsx)("p",{className:"moviesCard__name",children:a.nameRU}),Object(s.jsx)("div",{className:"moviesCard__duration-container",children:Object(s.jsx)("p",{className:"moviesCard__duration",children:(t=a.duration,Math.trunc(t/60)+"\u0447 "+t%60+"\u043c")})})]}),Object(s.jsx)("button",{className:l,onClick:function(){o?i(a):n(a)},children:j})]})},k=(a(37),function(){return Object(s.jsx)("div",{className:"preloader",children:Object(s.jsx)("div",{className:"preloader__container",children:Object(s.jsx)("span",{className:"preloader__round"})})})});var S=function(e){var t=function(){var e="object"===typeof window,t=c.a.useState(e?window.innerWidth:void 0),a=Object(l.a)(t,2),s=a[0],n=a[1];return c.a.useEffect((function(){function t(){n(window.innerWidth)}if(e)return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e,n]),s}(),a=c.a.useState(0),n=Object(l.a)(a,2),i=n[0],r=n[1],o=c.a.useState(0),j=Object(l.a)(o,2),h=j[0],d=j[1];c.a.useEffect((function(){t>=1280&&(r(12),d(3)),t<1280&&t>=768&&(r(12),d(2)),t<768&&t>=480&&(r(8),d(2)),t<480&&(r(5),d(2))}),[t]);var _=e.foundMovies.length-i;return Object(s.jsx)("main",{children:e.inSearch?Object(s.jsx)(k,{}):0===e.foundMovies.length&&e.noResult?Object(s.jsx)("p",{className:"moviesCardList__noResult",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("ul",{className:"moviesCardList",children:e.foundMovies.slice(0,i).map((function(t){return Object(s.jsx)(g,{movie:t,onCardLike:e.onCardLike,isSaved:e.isSaved,savedFilms:e.savedFilms,onCardLikeDelete:e.onCardLikeDelete,inSaved:e.inSaved},t.id)}))}),Object(s.jsx)("button",{className:_<=0?"moviesCardList__btn link moviesCardList__btn_visible_hidden":"moviesCardList__btn link",onClick:function(){r(i+h)},children:"\u0415\u0449\u0451"})]})})};var C=function(e){return Object(s.jsxs)("div",{className:"movies",children:[Object(s.jsx)(p,{searchMovie:e.searchMovie,handleChangeSwitcher:e.handleChangeSwitcher,shortMovie:e.shortMovie,setPreload:e.setPreload,showNoResult:e.showNoResult}),Object(s.jsx)(S,{movies:e.movies,inSearch:e.inSearch,foundMovies:e.foundMovies,noResult:e.noResult,onCardLike:e.onCardLike,savedMovies:e.savedMovies,isSaved:e.isSaved,savedFilms:e.savedFilms,onCardLikeDelete:e.onCardLikeDelete})]})},w=a(3),M=a.p+"static/media/logo.6427ffc3.svg";var y=function(e){return Object(s.jsx)(s.Fragment,{children:e.loggedIn?Object(s.jsx)("header",{className:"header",children:Object(s.jsxs)("div",{className:"header__container",children:[Object(s.jsx)(w.b,{to:"/",children:Object(s.jsx)("img",{className:"header__logo link",src:M,alt:"\u041b\u043e\u0433\u043e Movies-explorer"})}),Object(s.jsxs)("div",{className:"header__nav-container header__nav-container_visible_none",children:[Object(s.jsx)("nav",{className:"header__nav",children:Object(s.jsxs)("ul",{className:"header__nav-ul",children:[Object(s.jsx)(w.b,{className:"header__nav-list header__nav-list_bold header__nav-list_padding_on link",to:"/movies",children:Object(s.jsx)("li",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(s.jsx)(w.b,{className:"header__nav-list link",to:"/saved-movies",children:Object(s.jsx)("li",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]})}),Object(s.jsx)(w.b,{className:"header__link link",to:"/profile",children:Object(s.jsxs)("div",{className:"header__account-btn",children:[Object(s.jsx)("p",{className:"header__account-text header__nav-list_bold",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(s.jsx)("div",{className:"header__account-logo"})]})})]}),Object(s.jsxs)("div",{className:"hamburger-menu",children:[Object(s.jsx)("input",{id:"menu__toggle",type:"checkbox"}),Object(s.jsx)("label",{className:"menu__btn link",for:"menu__toggle",children:Object(s.jsx)("span",{})}),Object(s.jsxs)("ul",{className:"menu__box",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(w.b,{className:"menu__item link",to:"/",children:Object(s.jsx)("li",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(s.jsx)(w.b,{className:"menu__item link",to:"/movies",children:Object(s.jsx)("li",{children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(s.jsx)(w.b,{className:"menu__item link",to:"/saved-movies",children:Object(s.jsx)("li",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]}),Object(s.jsx)(w.b,{className:"header__link link",to:"/profile",children:Object(s.jsxs)("li",{className:"header__account-btn header__account-btn_menu",children:[Object(s.jsx)("p",{className:"header__account-text header__nav-list_bold",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(s.jsx)("div",{className:"header__account-logo"})]})})]})]})]})}):Object(s.jsx)("header",{className:"header",children:Object(s.jsxs)("div",{className:"header__container",children:[Object(s.jsx)(w.b,{to:"/",children:Object(s.jsx)("img",{className:"header__logo link",src:M,alt:"\u041b\u043e\u0433\u043e Movies-explorer"})}),Object(s.jsxs)("div",{className:"header__nav-container",children:[Object(s.jsx)("nav",{className:"header__nav",children:Object(s.jsx)("ul",{className:"header__nav-ul",children:Object(s.jsx)(w.b,{className:"header__nav-list header__nav-list_bold  link",to:"/signup",children:Object(s.jsx)("li",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})})}),Object(s.jsx)(w.b,{className:"header__link link",to:"/signin",children:Object(s.jsx)("div",{className:"header__account-btn_enter",children:Object(s.jsx)("p",{className:"header__btn",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})})})};var P=function(e){return Object(s.jsxs)("div",{className:"movies",children:[Object(s.jsx)(p,{searchMovie:e.searchMovie,handleChangeSwitcher:e.handleChangeSwitcher,shortMovie:e.shortMovie,setPreload:e.setPreload,showNoResult:e.showNoResult}),Object(s.jsx)(S,{movies:e.movies,inSearch:e.inSearch,foundMovies:e.foundMovies,noResult:e.noResult,onCardLike:e.onCardLike,savedMovies:e.savedMovies,isSaved:e.isSaved,savedFilms:e.savedFilms,onCardLikeDelete:e.onCardLikeDelete,inSaved:e.inSaved})]})},L=a(10),R=a(5);var T=function(e){var t=c.a.useState({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=c.a.useState(!1),o=Object(l.a)(r,2),j=o[0],h=o[1],d=c.a.useState({name:"",email:"",password:""}),_=Object(l.a)(d,2),b=_[0],m=_[1],u="".concat(j?"auth__btn link":"auth__btn auth__btn_inactive");function v(e){var t=e.target,a=t.name,s=t.value;m(Object(R.a)(Object(R.a)({},b),{},Object(L.a)({},a,s))),i(Object(R.a)(Object(R.a)({},n),{},Object(L.a)({},a,e.target.validationMessage))),h(e.target.closest("form").checkValidity())}return Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("img",{className:"auth__logo link",src:M,alt:"\u041b\u043e\u0433\u043e Movies-explorer"}),Object(s.jsx)("p",{className:"auth__heading",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(s.jsxs)("form",{className:"auth__form",onSubmit:function(t){t.preventDefault(),e.onRegister(b)},children:[Object(s.jsxs)("label",{className:"auth__label",children:["\u0418\u043c\u044f",Object(s.jsx)("input",{id:"name",className:"auth__input",required:!0,name:"name",type:"text",onChange:v,value:b.name,minLength:"2",maxLength:"30"})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:n.name}),Object(s.jsxs)("label",{className:"auth__label",children:["E-mail",Object(s.jsx)("input",{id:"email",className:"auth__input",required:!0,name:"email",type:"email",onChange:v,value:b.email})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:n.email}),Object(s.jsxs)("label",{className:"auth__label",children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(s.jsx)("input",{id:"password",className:"auth__input",required:!0,name:"password",type:"password",onChange:v,value:b.password,minLength:"2"})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:n.password}),Object(s.jsx)("button",{type:"submit",className:u,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(s.jsxs)("p",{className:"auth__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(s.jsx)(w.b,{to:"/signin",className:"auth__link link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})};var F=function(e){var t=c.a.useState({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=c.a.useState(!1),o=Object(l.a)(r,2),j=o[0],h=o[1],d=c.a.useState({email:"",password:""}),_=Object(l.a)(d,2),b=_[0],m=_[1],u="".concat(j?"auth__btn link":"auth__btn auth__btn_inactive");function v(e){var t=e.target,a=t.name,s=t.value;m(Object(R.a)(Object(R.a)({},b),{},Object(L.a)({},a,s))),i(Object(R.a)(Object(R.a)({},n),{},Object(L.a)({},a,e.target.validationMessage))),h(e.target.closest("form").checkValidity())}return Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("img",{className:"auth__logo link",src:M,alt:"\u041b\u043e\u0433\u043e Movies-explorer"}),Object(s.jsx)("p",{className:"auth__heading",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(s.jsxs)("form",{className:"auth__form",onSubmit:function(t){t.preventDefault(),e.handleLogin(b)},children:[Object(s.jsxs)("label",{className:"auth__label",children:["E-mail",Object(s.jsx)("input",{id:"email",className:"auth__input",required:!0,name:"email",type:"email",value:b.email,onChange:v})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:n.email}),Object(s.jsxs)("label",{className:"auth__label",children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(s.jsx)("input",{id:"password",className:"auth__input",required:!0,name:"password",type:"password",value:b.password,onChange:v,minLength:"2"})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:n.password}),Object(s.jsx)("button",{type:"submit",className:u,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(s.jsxs)("p",{className:"auth__text",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(s.jsx)(w.b,{to:"/signup",className:"auth__link link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})},D=c.a.createContext();var I=function(e){var t=c.a.useContext(D),a=c.a.useState({}),n=Object(l.a)(a,2),i=n[0],r=n[1],o=c.a.useState(!1),j=Object(l.a)(o,2),h=j[0],d=j[1],_=c.a.useState({name:"",email:""}),b=Object(l.a)(_,2),m=b[0],u=b[1],v="".concat(h?"profile__btn profile__btn-sbt link":"profile__btn profile__btn-sbt profile__btn_inactive"),O=function(e){var t=e.target.name,a=e.target.value;u(Object(R.a)(Object(R.a)({},m),{},Object(L.a)({},t,a))),r(Object(R.a)(Object(R.a)({},i),{},Object(L.a)({},t,e.target.validationMessage))),d(e.target.closest("form").checkValidity())};return c.a.useEffect((function(){u({name:t.name||"",email:t.email||""})}),[t]),Object(s.jsxs)("div",{className:"profile",children:[Object(s.jsx)("p",{className:"profile__heading auth__heading",children:"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(m.name,"!")}),Object(s.jsxs)("form",{className:"profile__container",onSubmit:function(t){t.preventDefault(),e.onUpdateUser(m)},id:"form",children:[Object(s.jsx)("label",{className:"profile__label profile__text profile__text_bold",children:"\u0418\u043c\u044f"}),Object(s.jsx)("input",{className:"profile__name profile__text",value:m.name,onChange:O,required:!0,name:"name",id:"name",minLength:"2",maxLength:"30"})]}),Object(s.jsx)("p",{className:"profile__error profile__error-name",children:i.name}),Object(s.jsxs)("form",{className:"profile__container",children:[Object(s.jsx)("label",{className:"profile__label profile__text profile__text_bold",children:"E-mail"}),Object(s.jsx)("input",{className:"profile__name profile__text",value:m.email,onChange:O,required:!0,name:"email",type:"email",id:"email"})]}),Object(s.jsx)("p",{className:"profile__error",children:i.email}),Object(s.jsx)("button",{className:v,type:"submit",form:"form",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(s.jsx)(w.b,{to:"/",className:"profile__btn profile__btn_red link",onClick:e.onSignOut,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})};var E=function(){return Object(s.jsxs)("div",{className:"notFound",children:[Object(s.jsx)("h2",{className:"notFound__heading",children:"404"}),Object(s.jsx)("p",{className:"notFound__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(s.jsx)(w.b,{to:"/",className:"notFound__btn",children:"\u041d\u0430\u0437\u0430\u0434"})]})};function U(e){return e.ok?e.json():Promise.reject("Some error")}var J=a(25),z=function(e){var t=e.component,a=Object(J.a)(e,["component"]);return Object(s.jsx)(j.b,{children:function(){return a.loggedIn?Object(s.jsx)(t,Object(R.a)({},a)):Object(s.jsx)(j.a,{to:"/signin"})}})},q=a(22),B=a(23),A=function(){function e(t){var a=t.baseUrl,s=t.headers;Object(q.a)(this,e),this._url=a,this._headers=s}return Object(B.a)(e,[{key:"getHeaders",value:function(){var e=localStorage.getItem("token");return Object(R.a)(Object(R.a)({},this.headers),{},{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)})}},{key:"_checkServerResponse",value:function(e){return e.ok?e.json():Promise.reject(e)}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._url,"/movies"),{headers:this._headers}).then(this._checkServerResponse)}},{key:"saveMovie",value:function(e){return fetch("".concat(this._url,"/movies"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkServerResponse)}},{key:"deleteMovie",value:function(e){return fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkServerResponse)}},{key:"getUserData",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._checkServerResponse)}},{key:"saveUserData",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkServerResponse)}},{key:"authorize",value:function(e,t){return fetch("".concat(this._url,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(this._checkServerResponse)}},{key:"register",value:function(e,t,a){return fetch("".concat(this._url,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(this._checkServerResponse)}},{key:"getContent",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkServerResponse)}}]),e}();var G=function(){var e=c.a.useState([]),t=Object(l.a)(e,2),a=t[0],n=t[1],i=c.a.useState([]),r=Object(l.a)(i,2),h=r[0],d=r[1],_=c.a.useState([]),b=Object(l.a)(_,2),m=b[0],u=b[1],v=c.a.useState([]),p=Object(l.a)(v,2),g=p[0],k=p[1],S=c.a.useState(!1),w=Object(l.a)(S,2),M=w[0],L=w[1],R=c.a.useState(!1),J=Object(l.a)(R,2),q=J[0],B=J[1],G=c.a.useState(!1),H=Object(l.a)(G,2),V=H[0],W=H[1],X=c.a.useState(!1),Y=Object(l.a)(X,2),K=Y[0],Q=Y[1],Z=c.a.useState(!1),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=c.a.useState({}),se=Object(l.a)(ae,2),ne=se[0],ce=se[1],ie=c.a.useState({name:"",email:""}),re=Object(l.a)(ie,2),oe=(re[0],re[1]),le=Object(j.g)(),je=localStorage.getItem("token"),he=new A({baseUrl:"https://api.ntmovies.students.nomoredomains.icu",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(je)}});function de(){L(!M)}function _e(){B(!0),setTimeout((function(){B(!1)}),1e3)}function be(){Q(!0)}function me(e){var t=e.email,a=e.password;he.authorize(t,a).then((function(e){e&&(localStorage.setItem("token",e.token),te(!0),le.push("/movies"))})).catch((function(e){console.log(e)}))}function ue(e){var t={country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:e.image.url?"".concat(f).concat(e.image.url):N,trailer:e.trailerLink,nameRU:e.nameRU,nameEN:e.nameEN,thumbnail:e.image.formats.thumbnail.url?"".concat(f).concat(e.image.formats.thumbnail.url):N,movieId:e.id};he.saveMovie(t).then((function(e){k([e].concat(Object(o.a)(g)))})).catch((function(e){console.log(e)}))}function ve(e){var t=g.find((function(t){return t.movieId===e.id}));he.deleteMovie(t._id).then((function(t){var a=g.filter((function(t){return t.movieId!==e.id})),s=m.filter((function(t){return t.id!==e.id}));k(a),u(s)})).catch((function(e){console.log(e)}))}return c.a.useEffect((function(){Promise.all([fetch("https://api.nomoreparties.co/beatfilm-movies",{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(U),he.getSavedMovies()]).then((function(e){var t=Object(l.a)(e,2),a=t[0],s=t[1];localStorage.setItem("movies",JSON.stringify(a)),n(JSON.parse(localStorage.getItem("movies"))),localStorage.setItem("savedMovies",JSON.stringify(s)),k(JSON.parse(localStorage.getItem("savedMovies")))})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){ee&&Promise.all([he.getUserData()]).then((function(e){var t=Object(l.a)(e,1)[0];ce(t)})).catch((function(e){console.log(e)}))}),[ee]),c.a.useEffect((function(){!function(){var e=localStorage.getItem("token");e&&he.getContent(e).then((function(e){if(e){te(!0),le.push("/movies");var t={name:e.name,email:e.email};oe(t)}})).catch((function(e){console.log(e)}))}()}),[]),Object(s.jsx)("div",{className:"page",children:Object(s.jsxs)(D.Provider,{value:ne,children:[Object(s.jsx)(y,{loggedIn:ee}),Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/signin",children:Object(s.jsx)(F,{handleLogin:me})}),Object(s.jsx)(j.b,{path:"/signup",children:Object(s.jsx)(T,{onRegister:function(e){var t=e.name,a=e.email,s=e.password;he.register(t,a,s).then((function(e){e&&(me({email:a,password:s}),ce(e),le.push("/movies"))})).catch((function(e){console.log(e),te(!1)}))}})}),Object(s.jsx)(z,{exact:!0,path:"/profile",component:I,loggedIn:ee,onUpdateUser:function(e){he.saveUserData(e).then((function(e){ce(e),alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b")})).catch((function(e){console.log(e)}))},onSignOut:function(){localStorage.removeItem("token"),te(!1),le.push("/")}}),Object(s.jsx)(j.b,{exact:!0,path:"/",children:Object(s.jsx)(O,{})}),Object(s.jsx)(z,{exact:!0,path:"/movies",component:C,loggedIn:ee,movies:a,searchMovie:function(e){if(!M){var t=a.filter((function(t){return t.nameRU.toLowerCase().includes(e.toLowerCase())}));return d(t)}var s=a.filter((function(t){return t.duration<=40&&t.nameRU.toLowerCase().includes(e.toLowerCase())}));d(s)},handleChangeSwitcher:de,shortMovie:M,inSearch:q,setPreload:_e,foundMovies:h,noResult:K,showNoResult:be,onCardLike:ue,savedFilms:g,onCardLikeDelete:ve}),Object(s.jsx)(z,{exact:!0,path:"/saved-movies",component:P,loggedIn:ee,movies:a,searchMovie:function(e){var t=a.filter((function(e){return g.find((function(t){return t.movieId==e.id}))}));if(M){var s=t.filter((function(t){return t.duration<=40&&t.nameRU.toLowerCase().includes(e.toLowerCase())}));u(s),W(!0)}else{var n=t.filter((function(t){return t.nameRU.toLowerCase().includes(e.toLowerCase())}));u(n),W(!0)}},handleChangeSwitcher:de,shortMovie:M,inSearch:q,setPreload:_e,foundMovies:m,noResult:K,showNoResult:be,onCardLike:ue,savedFilms:g,onCardLikeDelete:ve,inSaved:V}),Object(s.jsx)(j.b,{path:"*",children:Object(s.jsx)(E,{})})]}),Object(s.jsx)(x,{})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(w.a,{children:Object(s.jsx)(G,{})})}),document.getElementById("root")),H()}},[[38,1,2]]]);
//# sourceMappingURL=main.5c7da800.chunk.js.map